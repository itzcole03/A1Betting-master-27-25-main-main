<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1Betting Live Development Environment - Updated</title>
    <!-- Cache buster: 2025-06-28T01:55:00 -->
    <meta name="cache-control" content="no-cache, no-store, must-revalidate">
    <meta name="pragma" content="no-cache">
    <meta name="expires" content="0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .container {
            text-align: center;
            max-width: 1000px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        .logo {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .feature-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .status {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .status-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ef4444;
            animation: pulse 2s infinite;
        }

        .status-dot.online {
            background: #10b981;
        }

        .status-dot.checking {
            background: #f59e0b;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .actions {
            margin-top: 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 0 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            font-weight: 500;
            cursor: pointer;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .btn.primary {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: left;
        }

        .api-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .api-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-title {
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-url {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 8px 12px;
            border-radius: 5px;
            margin: 10px 0;
            word-break: break-all;
        }

        .api-data {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffd700;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 20px;
                padding: 30px 20px;
            }

            .logo {
                font-size: 2rem;
            }

            .features,
            .api-status {
                grid-template-columns: 1fr;
            }

            .status {
                flex-direction: column;
                align-items: center;
            }

            .actions {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .btn {
                margin: 0;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="logo">üèÜ A1Betting</div>
        <div class="subtitle">Live Development Environment</div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">üöÄ</div>
                <div class="feature-title">Hot Reloading</div>
                <div class="feature-desc">Real-time updates without page refresh</div>
            </div>
            <div class="feature">
                <div class="feature-icon">ü§ù</div>
                <div class="feature-title">Live Collaboration</div>
                <div class="feature-desc">Real-time code sharing with Live Share</div>
            </div>
            <div class="feature">
                <div class="feature-icon">üîß</div>
                <div class="feature-title">Full-Stack Debug</div>
                <div class="feature-desc">Integrated frontend & backend debugging</div>
            </div>
            <div class="feature">
                <div class="feature-icon">ÔøΩ</div>
                <div class="feature-title">Live Data</div>
                <div class="feature-desc">Real-time betting analytics & predictions</div>
            </div>
        </div>

        <div class="status">
            <div class="status-item" onclick="checkEndpoint('http://localhost:5173', 'frontend')">
                <div class="status-dot" id="frontend-status"></div>
                <span>Frontend Dev Server</span>
            </div>
            <div class="status-item" onclick="checkEndpoint('http://localhost:8000/health', 'backend')">
                <div class="status-dot" id="backend-status"></div>
                <span>Backend API</span>
            </div>
            <div class="status-item" onclick="checkEndpoint('http://localhost:3001', 'liveserver')">
                <div class="status-dot" id="liveserver-status"></div>
                <span>Live Server</span>
            </div>
        </div>

        <div class="api-status">
            <div class="api-item">
                <div class="api-title">
                    <div class="status-dot" id="analytics-status"></div>
                    Analytics API
                </div>
                <div class="api-url">GET /api/analytics/advanced</div>
                <div class="api-data" id="analytics-data">Click to test endpoint...</div>
            </div>
            <div class="api-item">
                <div class="api-title">
                    <div class="status-dot" id="betting-status"></div>
                    Betting Opportunities
                </div>
                <div class="api-url">GET /api/betting-opportunities</div>
                <div class="api-data" id="betting-data">Click to test endpoint...</div>
            </div>
            <div class="api-item">
                <div class="api-title">
                    <div class="status-dot" id="performance-status"></div>
                    Performance Stats
                </div>
                <div class="api-url">GET /api/v1/performance-stats</div>
                <div class="api-data" id="performance-data">Click to test endpoint...</div>
            </div>
            <div class="api-item">
                <div class="api-title">
                    <div class="status-dot" id="unified-status"></div>
                    Unified Data Feed
                </div>
                <div class="api-url">GET /api/v1/unified-data</div>
                <div class="api-data" id="unified-data">Click to test endpoint...</div>
            </div>
        </div>

        <div class="stats-grid" id="stats-container" style="display: none;">
            <div class="stat-item">
                <div class="stat-value" id="active-models">--</div>
                <div class="stat-label">Active Models</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="predictions-today">--</div>
                <div class="stat-label">Predictions Today</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="accuracy-rate">--</div>
                <div class="stat-label">Accuracy Rate</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="active-bets">--</div>
                <div class="stat-label">Active Bets</div>
            </div>
        </div>

        <div class="code-block">
            <div>üìã Quick Start Commands:</div>
            <div style="margin-top: 10px;">
                <div>ü™ü Windows: <strong>start-live-dev.bat</strong></div>
                <div>üêß Linux/Mac: <strong>./start-live-dev.sh</strong></div>
                <div>üéØ VS Code: <strong>Ctrl+Shift+P</strong> ‚Üí "Tasks: Run Task" ‚Üí "Full Stack Development"</div>
            </div>
        </div>

        <div class="actions">
            <button class="btn primary" onclick="startCollaboration()">Start Live Share</button>
            <button class="btn" onclick="openFrontend()">Open Frontend</button>
            <button class="btn" onclick="openAPI()">Test API</button>
            <button class="btn" onclick="refreshData()">Refresh Data</button>
        </div>

        <div style="margin-top: 30px; opacity: 0.7; font-size: 0.9rem;">
            üåü Ready for builder.io-style collaborative development!
        </div>
    </div>

    <script>
        let backendUrl = 'http://localhost:8000';
        let frontendUrl = 'http://localhost:5173';
        let liveServerUrl = 'http://localhost:3001';

        // Check server status on load
        window.addEventListener('load', () => {
            checkAllEndpoints();
            setInterval(checkAllEndpoints, 30000); // Check every 30 seconds
        });

        async function checkEndpoint(url, type) {
            const statusElement = document.getElementById(`${type}-status`);
            statusElement.className = 'status-dot checking';

            try {
                const response = await fetch(url, {
                    method: 'GET',
                    mode: 'cors'
                });

                if (response.ok) {
                    statusElement.className = 'status-dot online';
                    if (type === 'backend') {
                        loadLiveData();
                    }
                } else {
                    statusElement.className = 'status-dot';
                }
            } catch (error) {
                statusElement.className = 'status-dot';
                console.log(`${type} server not accessible:`, error.message);
            }
        }

        async function checkAllEndpoints() {
            await checkEndpoint(frontendUrl, 'frontend');
            await checkEndpoint(`${backendUrl}/health`, 'backend');
            await checkEndpoint(liveServerUrl, 'liveserver');

            // Test API endpoints
            await testAPIEndpoint('analytics', '/api/analytics/advanced');
            await testAPIEndpoint('betting', '/api/betting-opportunities');
            await testAPIEndpoint('performance', '/api/v1/performance-stats');
            await testAPIEndpoint('unified', '/api/v1/unified-data');
        }

        async function testAPIEndpoint(type, endpoint) {
            const statusElement = document.getElementById(`${type}-status`);
            const dataElement = document.getElementById(`${type}-data`);

            try {
                const response = await fetch(`${backendUrl}${endpoint}`, {
                    method: 'GET',
                    mode: 'cors'
                });

                if (response.ok) {
                    const data = await response.json();
                    statusElement.className = 'status-dot online';

                    // Display relevant data
                    if (type === 'analytics') {
                        dataElement.textContent = `${data.predictions_today || 0} predictions, ${(data.accuracy_rate * 100).toFixed(1)}% accuracy`;
                    } else if (type === 'betting') {
                        dataElement.textContent = `${data.length || 0} opportunities available`;
                    } else if (type === 'performance') {
                        dataElement.textContent = `${data.active_models || 0} models, ${data.predictions_count || 0} predictions`;
                    } else if (type === 'unified') {
                        dataElement.textContent = `${Object.keys(data).length} data sources active`;
                    }
                } else {
                    statusElement.className = 'status-dot';
                    dataElement.textContent = `Error: ${response.status}`;
                }
            } catch (error) {
                statusElement.className = 'status-dot';
                dataElement.textContent = 'Service offline';
            }
        }

        async function loadLiveData() {
            try {
                // Load performance stats
                const perfResponse = await fetch(`${backendUrl}/api/v1/performance-stats`);
                if (perfResponse.ok) {
                    const perfData = await perfResponse.json();
                    document.getElementById('active-models').textContent = perfData.active_models || 0;
                    document.getElementById('predictions-today').textContent = perfData.predictions_count || 0;
                    document.getElementById('accuracy-rate').textContent = `${(perfData.overall_accuracy * 100).toFixed(1)}%`;
                }

                // Load active bets
                const betsResponse = await fetch(`${backendUrl}/api/active-bets`);
                if (betsResponse.ok) {
                    const betsData = await betsResponse.json();
                    document.getElementById('active-bets').textContent = betsData.active_bets?.length || 0;
                }

                // Show stats container
                document.getElementById('stats-container').style.display = 'grid';

            } catch (error) {
                console.log('Could not load live data:', error);
            }
        }

        function startCollaboration() {
            // Instructions for Live Share
            const instructions = `To start Live Share collaboration:

1. Press Ctrl+Shift+P in VS Code
2. Type "Live Share: Start Collaboration Session"
3. Choose "Share workspace"
4. Copy the session URL
5. Share with your team members!

Features available:
‚Ä¢ Real-time collaborative editing
‚Ä¢ Shared terminals and debugging
‚Ä¢ Voice chat (with audio extension)
‚Ä¢ Shared localhost servers`;

            alert(instructions);
        }

        function openFrontend() {
            window.open(frontendUrl, '_blank');
        }

        function openAPI() {
            window.open(`${backendUrl}/docs`, '_blank');
        }

        function refreshData() {
            checkAllEndpoints();
        }

        // Add interactive tilt effect
        document.addEventListener('mousemove', (e) => {
            const container = document.querySelector('.container');
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const xPercent = (x / rect.width - 0.5) * 2;
            const yPercent = (y / rect.height - 0.5) * 2;

            container.style.transform = `perspective(1000px) rotateY(${xPercent * 1}deg) rotateX(${-yPercent * 1}deg)`;
        });

        document.addEventListener('mouseleave', () => {
            document.querySelector('.container').style.transform = '';
        });

        // Make API items clickable
        document.querySelectorAll('.api-item').forEach(item => {
            item.style.cursor = 'pointer';
            item.addEventListener('click', () => {
                const endpoint = item.querySelector('.api-url').textContent.split(' ')[1];
                const type = item.querySelector('.api-title').textContent.trim().toLowerCase().replace(' ', '');
                testAPIEndpoint(type.split(' ')[0], endpoint);
            });
        });
    </script>
</body>

</html>